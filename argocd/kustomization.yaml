apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: argocd

resources:
  # Official Argo CD installation manifest - stable release
  - https://raw.githubusercontent.com/argoproj/argo-cd/v3.2.2/manifests/install.yaml
  # Custom Traefik IngressRoute
  - ingress.yml

patches:
  # Apply custom configurations to ConfigMaps
  - path: patches/configmap-cmd-params.yaml
  - path: patches/configmap-cm.yaml
  - path: patches/configmap-rbac.yaml
  # Set imagePullPolicy to IfNotPresent for all deployments
  - path: patches/image-pull-policy.yaml
  # Set resource requests for all containers
  - path: patches/resources.yaml

